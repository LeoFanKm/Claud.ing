# 文档维护规则

## 核心原则

**修改代码前必须先读取现有文档，避免覆盖重要信息。**

## 维护流程

### 1. 修改代码前
- [ ] 读取当前文件的头部注释
- [ ] 读取所在目录的 README.md
- [ ] 理解该文件在项目中的位置和职责

### 2. 修改代码时
- [ ] 更新文件头部注释（如有变化）
- [ ] 保持 @input/@output/@position 标注准确

### 3. 修改代码后
- [ ] 更新所在目录的 README.md（如架构变化）
- [ ] 向上传播变更（父目录 README）
- [ ] 确保文件索引表准确

## 标准文件头格式

```typescript
/**
 * @file 文件名
 * @description 功能描述
 *
 * @input 输入参数/依赖说明
 * @output 输出/返回说明
 * @position 在项目架构中的位置
 */
```

## 目录 README 必含内容

1. **目录架构图** - ASCII 树形结构
2. **核心职责** - 该目录的功能定位
3. **文件索引** - 表格形式列出所有文件
4. **注意事项** - 重要的使用说明

## 变更传播规则

```
文件变更 → 更新文件头注释
    ↓
目录变更 → 更新目录 README.md
    ↓
架构变更 → 向上传播至父目录
    ↓
重大变更 → 更新根目录 CLAUDE.md
```

## 排除项

以下内容无需维护文档：
- `node_modules/`
- `.git/`
- `dist/` / `build/`
- 日志文件 `*.log`
- 系统文件 `.DS_Store`
